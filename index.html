<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Félicitations à Augustin Muteb</title>
  <!-- Liens, styles et Firebase comme dans ton code original -->
  <!-- ... (Garde toute la partie HEAD telle quelle, elle est déjà bien faite) -->
  <!-- Ton <style> complet reste inchangé ici -->
  <!-- ... -->
</head>

<body>
  <header>
    <div class="container">
      <a href="#" class="header-logo">
        <i class="fas fa-hammer" style="color: var(--secondaire);"></i> Géo-Félicitations Pro
      </a>
    </div>
  </header>

  <main class="container">
    <section class="hero">
      <div id="carousel">
        <div class="carousel-slide active"><img src="photo1.jpg" alt="Augustin Muteb Diplôme" loading="lazy" /></div>
        <div class="carousel-slide"><img src="photo2.jpg" alt="Cérémonie Université de Kolwezi" loading="lazy" /></div>
        <div class="carousel-slide"><img src="photo3.jpeg" alt="Augustin Muteb avec ses professeurs" loading="lazy" /></div>
        <div class="carousel-slide"><img src="photo4.jpeg" alt="Groupe d'amis Géologues" loading="lazy" /></div>
        <div class="carousel-slide"><img src="photo5.jpeg" alt="Groupe d'amis Géologues" loading="lazy" /></div>
        <div class="carousel-slide"><img src="photo6.jpeg" alt="Groupe d'amis Géologues" loading="lazy" /></div>
        <div class="carousel-slide"><img src="photo7.jpeg" alt="Groupe d'amis Géologues" loading="lazy" /></div>
      </div>
      <div class="hero-text">
        <h1><i class="fas fa-mountain"></i> Augustin Muteb</h1>
        <p>« L'avenir est construit sur une base solide. Félicitations, Géologue ! »</p>
        <p class="diplome-info">**Diplômé de l'Université de Kolwezi**</p>
      </div>
    </section>

    <section class="guestbook-section">
      <h2 class="section-title"><i class="fas fa-scroll"></i> Le Registre des Vœux</h2>
      <p class="intro">
        Laissez votre marque sur la nouvelle fondation d'Augustin. Chaque mot est une <strong>ressource précieuse</strong> pour son cheminement professionnel en <strong>Ingénierie Géologique</strong>.
      </p>

      <div class="form-card">
        <form id="formTemoignage">
          <div class="input-group">
            <label for="nom">Votre Nom :</label>
            <input type="text" id="nom" value="Arsene Mwamba, Tegra Kanda" required maxlength="75" />
          </div>

          <div class="input-group">
            <label for="message">Votre message :</label>
            <textarea id="message" rows="7" required minlength="20" maxlength="800">Félicitations pour cette nouvelle étape dans ta vie…</textarea>
          </div>

          <button type="submit">
            <i class="fas fa-paper-plane"></i> Envoyer mon message
          </button>
          <div id="confirmation" class="confirmation">
            <i class="fas fa-check-circle"></i> Merci ! Ton message a bien été enregistré.
          </div>
        </form>
      </div>
    </section>

    <div class="link-livre">
      <a href="livre.html" class="cta-livre">
        <i class="fas fa-book-open"></i> Accéder au <strong>Livre d’Or Complet</strong>
      </a>
    </div>
  </main>

  <footer>
    <div class="container">
      <p>— Conception & Développement Web Professionnel : Gabby Umba —</p>
      <p>
        Contact (WhatsApp) :
        <a href="tel:+243997227819">+243 99 72 27 819</a> |
        <a href="mailto:gabby.umba.dev@example.com">gabby.umba.dev@example.com</a>
      </p>
      <p style="margin-top: 15px; font-size: 0.8em; opacity: 0.7;">
        &copy; 2025 Livre d'Or Professionnel. Tous droits réservés.
      </p>
    </div>
  </footer>

  <script src="https://www.gstatic.com/firebasejs/10.5.2/firebase-app-compat.js" defer></script>
  <script src="https://www.gstatic.com/firebasejs/10.5.2/firebase-firestore-compat.js" defer></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const firebaseConfig = {
        apiKey: "AIzaSyCQWUPt2d5RaPvPfSqgi4oU-VxMpL6STvQ",
        authDomain: "shekinahmukeni-74b9d.firebaseapp.com",
        projectId: "shekinahmukeni-74b9d",
        storageBucket: "shekinahmukeni-74b9d.appspot.com",
        messagingSenderId: "351153147633",
        appId: "1:351153147633:web:c82d85f1ad9a79d6ed6350"
      };

      if (!firebase.apps.length) {
        firebase.initializeApp(firebaseConfig);
      }
      const db = firebase.firestore();

      const form = document.getElementById('formTemoignage');
      const confirmation = document.getElementById('confirmation');
      const submitButton = form.querySelector('button[type="submit"]');

      const slides = document.querySelectorAll('#carousel .carousel-slide');
      let currentSlide = 0;
      const intervalTime = 7000;

      function nextSlide() {
        slides[currentSlide].classList.remove('active');
        currentSlide = (currentSlide + 1) % slides.length;
        slides[currentSlide].classList.add('active');
      }

      if (slides.length > 0) {
        slides[0].classList.add('active');
        setInterval(nextSlide, intervalTime);
      }

      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        submitButton.disabled = true;
        submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Envoi en cours...';

        const name = document.getElementById('nom').value.trim();
        const message = document.getElementById('message').value.trim();

        if (name.length < 2 || message.length < 20) {
          alert("Erreur : Veuillez compléter correctement les champs.");
          submitButton.disabled = false;
          submitButton.innerHTML = '<i class="fas fa-paper-plane"></i> Envoyer mon message';
          return;
        }

        try {
          await db.collection("testimonials").add({
            name,
            message,
            timestamp: firebase.firestore.FieldValue.serverTimestamp(),
            source: "formulaire_arsene_tegra"
          });

          form.reset();
          confirmation.classList.add('visible');
          submitButton.innerHTML = '<i class="fas fa-check"></i> Message envoyé !';

          setTimeout(() => {
            confirmation.classList.remove('visible');
            submitButton.disabled = false;
            submitButton.innerHTML = '<i class="fas fa-paper-plane"></i> Envoyer mon message';
          }, 7000);
        } catch (err) {
          console.error("Erreur lors de l'enregistrement :", err);
          alert("Une erreur est survenue. Veuillez réessayer plus tard.");
          submitButton.disabled = false;
          submitButton.innerHTML = '<i class="fas fa-paper-plane"></i> Envoyer mon message';
        }
      });
    });
  </script>
</body>
</html>
