<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Livre d'Or PRO – Félicitations à Augustin Muteb, Géologue</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

<script src="https://www.gstatic.com/firebasejs/10.5.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.5.2/firebase-firestore-compat.js"></script>

<style>
/* ... (Styles CSS conservés tels quels) ... */
/* VARIABLES CSS MODERNES (Thème Géologie : Bleu/Gris) */
:root {
    --primaire: #0077B6; /* Bleu Azur élégant */
    --primaire-fonce: #005A8D;
    --secondaire: #FFC300; /* Or Vif pour l'excellence */
    --fond-clair: #F0F4F7; /* Gris très clair légèrement bleuté */
    --fond-sombre: #fff;
    --texte: #2C3E50; /* Gris-Bleu foncé (Ardoise) */
    --ombre-pro: 0 20px 50px rgba(0, 0, 0, 0.1); 
    --rayon-grand: 25px;
    --transition-rapide: 0.35s ease-in-out;
}

/* RESET ET FOND */
body {
    font-family: 'Montserrat', sans-serif;
    margin: 0;
    padding: 0;
    background-color: var(--fond-clair);
    color: var(--texte);
    text-align: center;
    line-height: 1.6;
    opacity: 0;
    animation: fadeIn 1.2s forwards;
    background: linear-gradient(180deg, var(--fond-clair) 0%, #E3E9EE 100%);
}
@keyframes fadeIn { to { opacity: 1; } }

/* STRUCTURE PRINCIPALE */
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

/* HEADER FLOTTANT */
header {
    background-color: var(--fond-sombre);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
    position: sticky; 
    top: 0;
    z-index: 100;
    padding: 10px 0;
}
.header-logo {
    font-family: 'Playfair Display', serif;
    font-size: 1.5em;
    font-weight: 700;
    color: var(--primaire-fonce);
    display: block;
    text-decoration: none;
}

/* --- HERO (CAROUSEL) --- */
.hero {
    position: relative;
    height: 550px; /* Hauteur augmentée */
    overflow: hidden;
    border-radius: var(--rayon-grand);
    box-shadow: var(--ombre-pro);
    margin-bottom: 50px;
    margin-top: 20px;
}
.carousel-slide {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    opacity: 0; transition: opacity 1.5s ease-in-out;
}
.carousel-slide.active { opacity: 1; }
.carousel-slide img {
    width: 100%; height: 100%; object-fit: cover;
    filter: grayscale(0%) brightness(100%); /* RETRAIT DES FILTRES pour visibilité */
    transition: transform 6s linear; transform-origin: center center;
}
.carousel-slide.active img { animation: kenBurns 15s infinite alternate; }
@keyframes kenBurns {
    0% { transform: scale(1.05); }
    100% { transform: scale(1.15); }
}

.hero-text {
    position: absolute; top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    color: #fff;
    background: rgba(44, 62, 80, 0.85); 
    padding: 40px 70px; 
    border-radius: var(--rayon-grand);
    backdrop-filter: blur(10px);
    font-family: 'Playfair Display', serif;
    border: 3px solid var(--secondaire); 
    z-index: 10; transition: all 0.5s;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
}
.hero-text h1 {
    font-size: 52px; 
    margin-bottom: 5px;
    letter-spacing: 3px;
    color: var(--secondaire);
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}
.hero-text p {
    font-style: italic;
    font-size: 22px;
    margin: 10px 0 0 0;
    font-weight: 500;
}

/* TITRES DE SECTION */
h2.section-title {
    color: var(--primaire-fonce);
    margin: 60px 0 20px;
    font-family: 'Playfair Display', serif;
    font-size: 3.5em; 
    font-weight: 700;
    position: relative;
    display: inline-block;
}
h2.section-title::after {
    content: '';
    position: absolute;
    bottom: -15px; 
    left: 50%;
    transform: translateX(-50%);
    width: 100px; 
    height: 4px; 
    background-color: var(--secondaire);
    border-radius: 2px;
}
p.intro {
    font-size: 1.4em; 
    margin-bottom: 50px;
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
    color: #555;
}

/* FORMULAIRE */
form {
    margin: 0 auto 60px auto;
    max-width: 850px;
    background: var(--fond-sombre);
    padding: 50px; 
    border-radius: var(--rayon-grand);
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15); 
    text-align: left;
    border-top: 8px solid var(--primaire); 
    transition: transform 0.4s ease;
}
label {
    color: var(--primaire-fonce);
    font-size: 1.1em;
    font-weight: 700;
}
input[type="text"], textarea {
    width: 100%;
    padding: 18px; 
    margin-top: 8px;
    border-radius: 15px; 
    border: 1px solid #ccc;
    font-size: 1.15em;
    font-family: inherit;
    resize: vertical;
}
input[type="text"]:focus, textarea:focus {
    border-color: var(--primaire);
    outline: none;
    box-shadow: 0 0 0 5px rgba(0, 119, 182, 0.15);
}

/* BOUTON D'ACTION AMÉLIORÉ */
button[type="submit"] {
    width: 100%;
    padding: 20px 24px;
    border-radius: 18px; 
    font-size: 1.3em;
    color: white;
    border: none;
    cursor: pointer;
    background-image: linear-gradient(45deg, var(--primaire), var(--primaire-fonce)); 
    font-weight: 700;
    letter-spacing: 1px;
    transition: all 0.4s cubic-bezier(0.2, 0.8, 0.4, 1);
    box-shadow: 0 8px 20px rgba(0, 119, 182, 0.4);
    position: relative;
    overflow: hidden;
}
button[type="submit"]:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
}
button[type="submit"]::after { /* Effet brillant */
    content: '';
    position: absolute; top: 0; left: -100%; width: 30%; height: 100%;
    background: rgba(255, 255, 255, 0.3);
    transform: skewX(-20deg);
    transition: left 0.8s ease;
}
button[type="submit"]:hover::after { left: 100%; }

/* MESSAGE DE CONFIRMATION AVEC EFFET */
.confirmation {
    text-align: center;
    color: #04AA6D;
    font-weight: 700;
    margin-top: 25px;
    padding: 20px; /* Plus grand */
    background-color: #D4EDDA;
    border: 1px solid #C3E6CB;
    border-radius: 10px;
    opacity: 0;
    transform: translateY(10px);
    transition: opacity 0.5s, transform 0.5s;
    display: none; /* Caché par défaut */
}
.confirmation.visible {
    opacity: 1;
    transform: translateY(0);
    display: block; /* Apparaît */
}

/* LIEN VERS LE LIVRE */
.link-livre {
    margin-top: 30px;
    margin-bottom: 50px;
}
.link-livre a {
    color: var(--fond-sombre);
    background-color: var(--secondaire); /* Bouton en Or */
    font-weight: 700;
    text-decoration: none;
    font-size: 1.25em; 
    padding: 15px 30px;
    border: 3px solid var(--secondaire);
    border-radius: 15px;
    transition: all var(--transition-rapide);
    display: inline-block;
}
.link-livre a:hover {
    background-color: var(--secondaire);
    color: var(--texte); /* Texte foncé sur l'or */
    box-shadow: 0 8px 20px rgba(255, 195, 0, 0.5);
    transform: scale(1.05);
}

/* PIED DE PAGE */
footer {
    padding: 30px 0;
    border-top: 1px solid #ddd;
    margin-top: 60px;
    background-color: var(--fond-sombre);
    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.03);
    color: #777;
    font-size: 0.9em;
}

/* MEDIA QUERIES */
@media(max-width: 768px) {
    .hero { height: 450px; }
    .hero-text h1 { font-size: 40px; }
    form { padding: 25px; }
}
</style>
</head>
<body>

<header>
    <div class="container">
        <a href="#" class="header-logo">
            <i class="fas fa-hammer" style="color: var(--secondaire);"></i> Géo-Félicitations Pro
        </a>
    </div>
</header>

<div class="container">
    
  <section class="hero">
        <div id="carousel">
      <div class="carousel-slide active"><img src="photo1.jpg" alt="Augustin Muteb Diplôme" loading="lazy"/></div>
      <div class="carousel-slide"><img src="photo2.jpg" alt="Cérémonie Université de Kolwezi" loading="lazy"/></div>
      <div class="carousel-slide"><img src="photo3.jpeg" alt="Augustin Muteb avec ses professeurs" loading="lazy"/></div>
      <div class="carousel-slide"><img src="photo4.jpeg" alt="Groupe d'amis Géologues" loading="lazy"/></div>
      <div class="carousel-slide"><img src="photo5.jpeg" alt="Groupe d'amis Géologues" loading="lazy"/></div>
      <div class="carousel-slide"><img src="photo6.jpeg" alt="Groupe d'amis Géologues" loading="lazy"/></div>
      <div class="carousel-slide"><img src="photo7.jpeg" alt="Groupe d'amis Géologues" loading="lazy"/></div>
            
      </div>
        <div class="hero-text">
      <h1><i class="fas fa-mountain"></i> Augustin Muteb</h1>
      <p>« L'avenir est construit sur une base solide. Félicitations, Géologue ! »</p>
      <p style="font-size: 18px; margin-top: 15px;">Diplômé de l'Université de Kolwezi</p>
    </div>
  </section>

  <h2 class="section-title">✍️ Livre d’Or</h2>
  <p class="intro">
    Laissez votre marque sur la nouvelle fondation d'Augustin le Mwant. Chaque mot écrit est une ressource précieuse pour son cheminement professionnel. Exprimez votre soutien avec joie et amour.
  </p>

  <div class="form-card">
    <form id="formTemoignage">
      <div class="input-group">
        <label for="nom">Votre nom :</label>         <input type="text" id="nom" placeholder="Ex : Arsene Mwamba" required maxlength="50"/>
      </div>
      
      <div class="input-group">
        <label for="message">Votre message de soutien pour Augustin Muteb le Mwant :</label>         <textarea id="message" rows="7" placeholder="Cher Augustin, felicitations pour cette nouvelle étape..." required minlength="10" maxlength="500"></textarea>
      </div>

      <button type="submit">
        <i class="fas fa-hammer"></i> Envoyer mon message de soutien
      </button>
            <div id="confirmation" class="confirmation">Votre message a été enregistré avec succès ! Merci de votre contribution au succès d'Augustin, plus bas accedez au livre d'or. 🍾</div>
    </form>
  </div>
  
  <div class="link-livre"><a href="livre.html"><i class="fas fa-book-open"></i> Accéder au Livre d’Or Complet</a></div>
    </div>

<footer>
  — Gabby Umba  — Developpeur | Contact: +243 99 72 27 819 —
</footer>

<script>
// Configuration Firebase (MISE À JOUR AVEC VOTRE NOUVELLE CONFIGURATION)
const firebaseConfig={
  apiKey:"AIzaSyAiMnvIMBqn2VqSQsFpb-Ajx5VORVd0JoA",
  authDomain: "danicakakudji.firebaseapp.com",
  projectId: "danicakakudji",
  storageBucket: "danicakakudji.firebasestorage.app",
  messagingSenderId: "409346091245",
  appId: "1:409346091245:web:6674becbc81d97c292c4e4"
};
firebase.initializeApp(firebaseConfig);
const db=firebase.firestore();

// Références DOM
const form=document.getElementById('formTemoignage');
const confirmation=document.getElementById('confirmation');
const submitButton = form.querySelector('button[type="submit"]');

// --- LOGIQUE DU CARROUSEL ---
const slides = document.querySelectorAll('#carousel .carousel-slide');
let currentSlide = 0;
const intervalTime = 5000; 

function nextSlide() {
    slides[currentSlide].classList.remove('active');
    currentSlide = (currentSlide + 1) % slides.length;
    slides[currentSlide].classList.add('active');
}
if (slides.length > 0) {
    slides[0].classList.add('active'); 
    setInterval(nextSlide, intervalTime);
}

// --- LOGIQUE DE GESTION DU FORMULAIRE AVEC DESTINATAIRE ---
form.addEventListener('submit', async e => {
    e.preventDefault();

    submitButton.disabled = true;
    submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Envoi sécurisé en cours...';

    const name = document.getElementById('nom').value.trim();
    const message = document.getElementById('message').value.trim();

    if (name.length < 2 || message.length < 10) {
        alert("Erreur: Veuillez inclure votre nom (min. 2 caractères) et un message complet (min. 10 caractères).");
        submitButton.disabled = false;
        submitButton.innerHTML = '<i class="fas fa-hammer"></i> Graver mon message de soutien';
        return;
    }

    try {
        // ENREGISTREMENT DANS LA COLLECTION 'testimonials' POUR AUGUSTIN
        await db.collection("testimonials").add({
            name: name,
            message: message,
            timestamp: firebase.firestore.FieldValue.serverTimestamp(),
            recipient: "Augustin Muteb", // <-- ESSENTIEL POUR LE FILTRAGE
            source: "formulaire_principal_pro"
        });

        // ... (Affichage de la confirmation) ...
        form.reset();
        confirmation.style.display = 'block';
        setTimeout(() => confirmation.classList.add('visible'), 50);

        setTimeout(() => {
            confirmation.classList.remove('visible');
            setTimeout(() => confirmation.style.display = 'none', 500);
            submitButton.disabled = false;
            submitButton.innerHTML = '<i class="fas fa-hammer"></i> Envoyer mon message de soutien';
        }, 6000);

    } catch (err) {
        console.error("Erreur lors de l'ajout du message:", err);
        alert("Une erreur technique est survenue. Veuillez réessayer plus tard.");
        submitButton.disabled = false;
        submitButton.innerHTML = '<i class="fas fa-hammer"></i> Envoyer mon message de soutien';
    }
});
</script>
</body>
</html>
