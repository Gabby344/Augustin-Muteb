<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Livre d'Or PRO üíé ‚Äì F√©licitations √† Augustin Muteb, G√©ologue Dipl√¥m√©</title>
    <meta name="description" content="Laissez un message professionnel de f√©licitations √† Augustin Muteb, nouvellement dipl√¥m√© en Ing√©nierie G√©ologique de l'Universit√© de Kolwezi.">
    
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700;800&family=Montserrat:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <!-- Scripts Firebase V8 Compatibility (essentiels pour l'utilisation sans module) -->
    <script src="https://www.gstatic.com/firebasejs/10.5.2/firebase-app-compat.js" defer></script>
    <script src="https://www.gstatic.com/firebasejs/10.5.2/firebase-firestore-compat.js" defer></script>

    <style>
        /* ======================================================= */
        /* === üß± VARIABLES ET TH√àMES PRO (G√©ologie √âlite) üß± === */
        /* ======================================================= */
        :root {
            --primaire: #0077B6; 
            --primaire-fonce: #005A8D; 
            --secondaire: #FFC300; 
            --accent-geologie: #5B473D; 
            --fond-clair: #F0F4F7; 
            --fond-sombre: #fff;
            --texte: #2C3E50; 
            --ombre-pro: 0 25px 55px rgba(0, 0, 0, 0.12); 
            --rayon-grand: 25px;
            --transition-rapide: 0.35s ease-in-out;
            --success-color: #04AA6D;
        }

        /* ======================================================= */
        /* ============ 1. RESET, FOND ET TYPOGRAPHIE ============ */
        /* ======================================================= */
        * {
            box-sizing: border-box;
        }
        body {
            font-family: 'Montserrat', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--fond-clair);
            color: var(--texte);
            text-align: center;
            line-height: 1.6;
            opacity: 0;
            animation: fadeIn 1.5s forwards; 
            background: linear-gradient(180deg, var(--fond-clair) 0%, #E3E9EE 100%);
        }
        @keyframes fadeIn { to { opacity: 1; } }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* ======================================================= */
        /* ============== 2. HEADER FLOTTANT (PRO) =============== */
        /* ======================================================= */
        header {
            background-color: var(--fond-sombre);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08); 
            position: sticky;
            top: 0;
            z-index: 1000; 
            padding: 15px 0; 
        }
        .header-logo {
            font-family: 'Playfair Display', serif;
            font-size: 1.8em; 
            font-weight: 800;
            color: var(--primaire-fonce);
            display: inline-block;
            text-decoration: none;
            transition: var(--transition-rapide);
        }
        .header-logo i {
            margin-right: 5px;
        }
        .header-logo:hover {
            color: var(--secondaire);
            transform: scale(1.02);
        }

        /* ======================================================= */
        /* ===================== 3. HERO (MAJ) =================== */
        /* ======================================================= */
        .hero {
            position: relative;
            height: 550px; 
            overflow: hidden;
            border-radius: var(--rayon-grand);
            box-shadow: var(--ombre-pro);
            margin: 40px auto 70px; 
            transform: scale(0.98); 
            animation: zoomIn 1.5s forwards;
        }
        @keyframes zoomIn { 100% { transform: scale(1); } }

        .carousel-slide {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            opacity: 0; 
            transition: opacity 1.5s ease-in-out; 
        }
        .carousel-slide.active { opacity: 1; }
        .carousel-slide img {
            width: 100%; height: 100%; object-fit: cover;
            filter: grayscale(20%) brightness(65%); 
            transition: transform 6s linear;
        }
        /* Effet Ken Burns (zoom subtil) sur l'image active */
        .carousel-slide.active img { animation: kenBurns 18s infinite alternate; } 
        @keyframes kenBurns {
            0% { transform: scale(1.05); }
            100% { transform: scale(1.15); }
        }
        
        .hero-text {
            position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            color: #fff;
            z-index: 10;
            background: rgba(44, 62, 80, 0.9); 
            padding: 50px 80px;
            border-radius: var(--rayon-grand);
            backdrop-filter: blur(5px);
            border: 5px solid var(--secondaire);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.5); 
            font-family: 'Playfair Display', serif;
        }
        .hero-text h1 {
            font-size: 64px; 
            margin-bottom: 5px;
            letter-spacing: 5px;
            color: var(--secondaire);
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.7);
        }
        .hero-text p {
            font-style: italic;
            font-size: 24px;
            margin: 10px 0 0 0;
            font-weight: 300; 
            color: #EFEFEF;
        }
        .hero-text .diplome-info {
            font-size: 18px;
            margin-top: 20px;
            font-weight: 500;
            color: var(--secondaire);
            letter-spacing: 1px;
        }

        /* ======================================================= */
        /* ============ 4. TITRES ET INTRODUCTION ================ */
        /* ======================================================= */
        h2.section-title {
            color: var(--accent-geologie); 
            margin: 80px 0 25px;
            font-family: 'Playfair Display', serif;
            font-size: 4em;
            font-weight: 700;
            position: relative;
            display: inline-block;
        }
        h2.section-title i {
            color: var(--secondaire);
            margin-right: 10px;
        }
        h2.section-title::after {
            content: '';
            position: absolute;
            bottom: -20px; 
            left: 50%;
            transform: translateX(-50%);
            width: 120px;
            height: 5px;
            background-color: var(--primaire);
            border-radius: 2px;
        }
        p.intro {
            font-size: 1.5em;
            margin-bottom: 70px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            font-weight: 300;
            color: var(--texte);
        }

        /* ======================================================= */
        /* ============= 5. FORMULAIRE (CARTE PRO) =============== */
        /* ======================================================= */
        .form-card {
            background-color: var(--fond-sombre);
            border-radius: var(--rayon-grand);
            box-shadow: var(--ombre-pro);
            max-width: 850px;
            margin: 0 auto 60px;
            overflow: hidden;
            border: 1px solid #e0e0e0;
        }

        form {
            padding: 50px;
            border-top: 10px solid var(--secondaire); 
            text-align: left;
        }
        .input-group {
            margin-bottom: 30px;
        }
        label {
            display: block;
            margin-bottom: 10px;
            font-weight: 700;
            color: var(--primaire);
            font-size: 1.2em;
            letter-spacing: 0.5px;
        }
        input[type="text"], textarea { 
            width: 100%;
            padding: 20px; 
            border-radius: 12px; 
            border: 2px solid #ddd;
            font-size: 1.1em;
            background-color: #FDFDFD;
            transition: all 0.4s ease;
        }
        input[type="text"]:focus, textarea:focus {
            border-color: var(--primaire);
            outline: none;
            box-shadow: 0 0 0 4px rgba(0, 119, 182, 0.2); 
            background-color: #fafffe;
        }
        textarea {
            resize: vertical;
        }

        /* Bouton */
        button[type="submit"] {
            width: 100%;
            padding: 22px;
            border: none;
            border-radius: 12px;
            font-size: 1.4em;
            font-weight: 700;
            color: #fff;
            cursor: pointer;
            background-image: linear-gradient(to right, var(--primaire), var(--primaire-fonce));
            box-shadow: 0 10px 25px rgba(0, 119, 182, 0.4);
            transition: all 0.4s ease;
            margin-top: 20px;
        }
        button[type="submit"]:hover:not(:disabled) {
            transform: translateY(-5px);
            box-shadow: 0 18px 40px rgba(0, 0, 0, 0.3);
            opacity: 0.95;
        }
        button[type="submit"]:disabled {
            background-image: none;
            background-color: #999;
            cursor: not-allowed;
            box-shadow: none;
        }
        button[type="submit"] i {
            margin-right: 10px;
        }

        /* Message de Confirmation */
        .confirmation {
            margin-top: 30px;
            padding: 20px;
            font-size: 1.2em;
            font-weight: 500;
            color: var(--success-color);
            background-color: #D4EDDA;
            border: 1px solid #C3E6CB;
            border-radius: 10px;
            text-align: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s, visibility 0.5s;
        }
        .confirmation.visible {
            opacity: 1;
            visibility: visible;
        }
        .confirmation i {
            color: var(--success-color);
            margin-right: 8px;
        }

        /* ======================================================= */
        /* ============ 6. LIEN LIVRE D'OR (ACCENT - CTA) ======== */
        /* ======================================================= */
        .link-livre {
            margin: 40px 0 80px;
        }
        .cta-livre { 
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 1.4em; 
            padding: 20px 40px; 
            border: none; 
            border-radius: 12px;
            font-weight: 700;
            text-decoration: none;
            transition: all 0.4s ease;
            cursor: pointer;
            letter-spacing: 1px;
            
            background-image: linear-gradient(145deg, var(--secondaire) 10%, #FFD700 90%);
            color: var(--accent-geologie); 
            box-shadow: 0 10px 30px rgba(255, 195, 0, 0.4), 
                        0 4px 0 var(--accent-geologie); 
        }

        .cta-livre i {
            margin-right: 12px;
            font-size: 1.2em;
            transform: rotateY(0deg);
            transition: transform 0.4s ease;
        }

        .cta-livre:hover {
            transform: translateY(-4px); 
            box-shadow: 0 16px 40px rgba(255, 195, 0, 0.6), 
                        0 8px 0 var(--accent-geologie); 
            color: var(--texte);
        }

        .cta-livre:active {
            transform: translateY(0px); 
            box-shadow: 0 4px 15px rgba(255, 195, 0, 0.4), 
                        0 2px 0 var(--accent-geologie);
        }
        .cta-livre:hover i {
            transform: rotateY(15deg); 
        }
        
        /* ======================================================= */
        /* ==================== 7. PIED DE PAGE ================== */
        /* ======================================================= */
        footer {
            padding: 40px 0;
            border-top: 1px solid #ddd;
            margin-top: 0;
            background-color: var(--texte); 
            color: #fff; 
            font-size: 0.95em;
            line-height: 1.8;
        }
        footer a {
            color: var(--secondaire);
            text-decoration: none;
            transition: color 0.3s;
        }
        footer a:hover {
            color: var(--primaire);
        }
        
        /* ======================================================= */
        /* =================== 8. RESPONSIVE PRO ================= */
        /* ======================================================= */
        @media(max-width: 992px) {
            .hero { height: 450px; }
            .hero-text { padding: 30px 40px; }
            .hero-text h1 { font-size: 48px; }
            h2.section-title { font-size: 3em; margin-top: 60px; }
            p.intro { font-size: 1.3em; margin-bottom: 50px; }
            .form-card { margin-left: 20px; margin-right: 20px; }
            form { padding: 40px 30px; }
            button[type="submit"] { font-size: 1.3em; padding: 18px; }
            .cta-livre { font-size: 1.3em; padding: 15px 30px; }
        }

        @media(max-width: 600px) {
            .header-logo { font-size: 1.4em; }
            .hero { height: 350px; border-radius: 15px; margin-top: 10px; }
            .hero-text { padding: 20px; border-width: 3px; }
            .hero-text h1 { font-size: 32px; letter-spacing: 2px; }
            .hero-text p { font-size: 16px; }
            .hero-text .diplome-info { font-size: 14px; }
            h2.section-title { font-size: 2.5em; margin-top: 50px; }
            p.intro { font-size: 1.1em; margin-bottom: 30px; }
            form { padding: 25px 20px; }
            input[type="text"], textarea { padding: 15px; font-size: 1em; border-radius: 8px; }
            button[type="submit"] { font-size: 1.2em; padding: 15px; border-radius: 10px; }
            .cta-livre { font-size: 1.1em; padding: 12px 25px; }
        }
    </style>
</head>
<body>

<header>
    <div class="container">
        <a href="#" class="header-logo">
            <i class="fas fa-hammer" style="color: var(--secondaire);"></i> Bravo Augustin Muteb Le Mwant 
        </a>
    </div>
</header>

<main class="container">
    <section class="hero">
        <div id="carousel">
            <!-- V√âRIFIEZ LE CHEMIN ET L'EXTENSION DE CES PHOTOS (e.g. photo1.jpeg ou photo1.jpg) -->
            <div class="carousel-slide active"><img src="photo1.jpg" alt="Augustin Muteb Dipl√¥me" loading="lazy" onerror="this.src='https://placehold.co/1200x550/0077B6/FFFFFF?text=Photo+1'"/></div>
            <div class="carousel-slide"><img src="photo2.jpg" alt="C√©r√©monie Universit√© de Kolwezi" loading="lazy" onerror="this.src='https://placehold.co/1200x550/5B473D/FFFFFF?text=Photo+2'"/></div>
            <div class="carousel-slide"><img src="photo3.jpeg" alt="Augustin Muteb avec ses professeurs" loading="lazy" onerror="this.src='https://placehold.co/1200x550/FFC300/333333?text=Photo+3'"/></div>
            <div class="carousel-slide"><img src="photo4.jpeg" alt="Groupe d'amis G√©ologues" loading="lazy" onerror="this.src='https://placehold.co/1200x550/005A8D/FFFFFF?text=Photo+4'"/></div>
            <div class="carousel-slide"><img src="photo5.jpeg" alt="Groupe d'amis G√©ologues" loading="lazy" onerror="this.src='https://placehold.co/1200x550/0077B6/FFFFFF?text=Photo+5'"/></div>
            <div class="carousel-slide"><img src="photo6.jpeg" alt="Groupe d'amis G√©ologues" loading="lazy" onerror="this.src='https://placehold.co/1200x550/5B473D/FFFFFF?text=Photo+6'"/></div>
            <div class="carousel-slide"><img src="photo7.jpeg" alt="Groupe d'amis G√©ologues" loading="lazy" onerror="this.src='https://placehold.co/1200x550/FFC300/333333?text=Photo+7'"/></div>
        </div>
        <div class="hero-text">
            <h1><i class="fas fa-mountain"></i> Augustin Muteb</h1>
            <p>¬´ L'avenir est construit sur une base solide. F√©licitations, cher G√©ologue ! ¬ª</p>
            <p class="diplome-info">Dipl√¥m√© de l'Universit√© de Kolwezi</p>
        </div>
    </section>

    <section class="guestbook-section">
        <h2 class="section-title"><i class="fas fa-scroll"></i> Le Registre de tous vos V≈ìux</h2>
        <p class="intro">
            Transmettez vos v≈ìux sinc√®res pour le d√©but d'une carri√®re prometteuse. Votre message est un encouragement pr√©cieux pour le cheminement professionnel d'Augustin. Partagez votre soutien avec joie et amour.
        </p>

        <div class="form-card">
            <form id="formTemoignage">
                <div class="input-group">
                    <label for="nom">Votre Prenom et Nom</label>
                    <input type="text" id="nom" placeholder="Exemple :Arsene Mwamba" required maxlength="75"/>
                </div>
                
                <div class="input-group">
                    <label for="message">Votre message de f√©licitations:</label>
                    <textarea id="message" rows="7" placeholder="Cher Augustin, je te souhaite plein succ√®s dans cette nouvelle √©tape de ta vie..." required minlength="20" maxlength="800"></textarea>
                </div>

                <button type="submit">
                    <i class="fas fa-check-circle"></i> Envoyez mon message 
                </button>
                <div id="confirmation" class="confirmation">
                    <i class="fas fa-certificate"></i> Votre message a √©t√© enregistr√© avec succ√®s ! Merci de votre contribution au succ√®s d'Augustin, plus bas acc√©dez au livre d'Or.
                </div>
            </form>
        </div>
    </section>
    
    <div class="link-livre">
        <a href="livre.html" class="cta-livre">
            <i class="fas fa-book-open"></i> Acc√©der au Livre d‚ÄôOr Complet
        </a>
    </div>

</main>

<footer>
    <div class="container">
        <p> Conception & D√©veloppement: Gabby Umba</p>
        <p>Contact (WhatsApp) : <a href="Whatsapp:+243997227819">+243 99 72 27 819</a> | 
           <a href="gabbyumba344@gmail.com">gabbyumba344@gmail.com</a></p>
        <p style="margin-top: 15px; font-size: 0.8em; opacity: 0.7;">&copy; 2025 Livre d'Or Professionnel. Tous droits r√©serv√©s.</p>
    </div>
</footer>

<script>
    // Configuration Firebase MISE √Ä JOUR avec vos donn√©es
    const firebaseConfig={
        apiKey:"AIzaSyAiMnvIMBqn2VqSQsFpb-Ajx5VORVd0JoA",
        authDomain:"danicakakudji.firebaseapp.com",
        projectId:"danicakakudji",
        storageBucket:"danicakakudji.firebasestorage.app",
        messagingSenderId:"409346091245",
        appId:"1:409346091245:web:6674becbc81d97c292c4e4"
    };

    // --- 1. INITIALISATION FIREBASE ---
    // Utilise la m√©thode V8/Compat pour l'initialisation
    if (typeof firebase !== 'undefined' && typeof firebase.apps !== 'undefined' && !firebase.apps.length) {
        firebase.initializeApp(firebaseConfig);
    }
    // V√©rifie si Firestore est disponible
    const db = (typeof firebase !== 'undefined' && firebase.firestore) ? firebase.firestore() : null;

    if (!db) {
        console.error("ERREUR CRITIQUE: Firestore n'est pas charg√©. V√©rifiez les scripts de chargement Firebase.");
    }

    // R√©f√©rences DOM
    const form = document.getElementById('formTemoignage');
    const confirmation = document.getElementById('confirmation');
    const submitButton = form.querySelector('button[type="submit"]');

    // --- 2. LOGIQUE DU CARROUSEL (D√©filement des photos) ---
    const slides = document.querySelectorAll('#carousel .carousel-slide');
    let currentSlide = 0;
    const intervalTime = 7000; // D√©filement toutes les 7 secondes

    function nextSlide() {
        slides[currentSlide].classList.remove('active');
        currentSlide = (currentSlide + 1) % slides.length;
        slides[currentSlide].classList.add('active');
    }

    // D√©marrage du carrousel uniquement s'il y a des slides
    if (slides.length > 1) {
        slides[0].classList.add('active'); // Assure que la premi√®re est active
        setInterval(nextSlide, intervalTime);
    }

    // --- 3. GESTION DU FORMULAIRE FIREBASE ---
    form.addEventListener('submit', async e => {
        e.preventDefault();
        
        if (!db) {
            alert("Erreur: Le service de base de donn√©es est indisponible.");
            return;
        }

        submitButton.disabled = true;
        submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> **ENVOI EN COURS...**';

        const name = document.getElementById('nom').value.trim();
        const message = document.getElementById('message').value.trim();

        if (name.length < 2 || message.length < 20) { 
             // Utiliser le message de confirmation pour l'erreur au lieu d'alert()
            confirmation.classList.remove('visible'); // Cacher si c'est d√©j√† visible
            submitButton.disabled = false;
            submitButton.innerHTML = '<i class="fas fa-exclamation-triangle"></i> Erreur: message trop court.';
            return;
        }
        
        try {
            // Utilisation de la syntaxe V8
            await db.collection("testimonials").add({
                name: name,
                message: message,
                // Assurez-vous que le Firestore.FieldValue est disponible
                timestamp: firebase.firestore.FieldValue.serverTimestamp(),
                source: "formulaire_principal_pro_v2"
            });

            form.reset();
            confirmation.classList.add('visible'); // AFFICHAGE DE LA CONFIRMATION
            submitButton.innerHTML = '<i class="fas fa-thumbs-up"></i> **MESSAGE GRAV√â !**';
            
            setTimeout(() => {
                confirmation.classList.remove('visible');
                submitButton.disabled = false;
                submitButton.innerHTML = '<i class="fas fa-check-circle"></i> Finaliser et **Graver** mon message de soutien';
            }, 7000); 

        } catch (err) {
            console.error("Erreur lors de l'ajout du message √† Firebase:", err);
            // Utiliser le m√™me √©l√©ment de confirmation pour afficher l'√©chec
            confirmation.style.backgroundColor = '#F8D7DA'; 
            confirmation.style.color = '#721C24';
            confirmation.innerHTML = `<i class="fas fa-times-circle"></i> √âCHEC. V√©rifiez vos r√®gles Firestore.`;
            confirmation.classList.add('visible');
            
            submitButton.disabled = false;
            submitButton.innerHTML = '<i class="fas fa-exclamation-triangle"></i> √âchec : R√©essayez';

            setTimeout(() => {
                confirmation.classList.remove('visible');
            }, 5000);
        }
    });
</script>
</body>
</html>
